<Window x:Class="FleetManager.Views.SetTargetsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="DÃ©finir les Objectifs" Height="450" Width="550"
        WindowStartupLocation="CenterScreen"
        Background="#F5F5F5">

    <Window.Resources>
        <Style TargetType="Border" x:Key="CardStyle">
            <Setter Property="Background" Value="White"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Padding" Value="20"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect BlurRadius="10" ShadowDepth="2" Opacity="0.2"/>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="TextBlock" x:Key="LabelStyle">
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Margin" Value="0,10,0,5"/>
            <Setter Property="Foreground" Value="#333"/>
        </Style>

        <Style TargetType="TextBox">
            <Setter Property="Padding" Value="10"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="BorderBrush" Value="#CCC"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Height" Value="35"/>
        </Style>
    </Window.Resources>

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Titre -->
        <TextBlock Grid.Row="0" Text="ðŸŽ¯ DÃ©finir les Objectifs de Performance" 
                   FontSize="20" FontWeight="Bold" 
                   Foreground="#1976D2" Margin="0,0,0,20"/>

        <!-- Formulaire -->
        <Border Grid.Row="1" Style="{StaticResource CardStyle}">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel>
                    <!-- Consommation cible -->
                    <TextBlock Text="Consommation cible (L/100km)" Style="{StaticResource LabelStyle}"/>
                    <TextBox Text="{Binding TargetConsumption, UpdateSourceTrigger=PropertyChanged}"
                             ToolTip="Objectif de consommation moyenne de la flotte"/>

                    <!-- CoÃ»t carburant maximum -->
                    <TextBlock Text="CoÃ»t carburant mensuel maximum (â‚¬)" Style="{StaticResource LabelStyle}"/>
                    <TextBox Text="{Binding TargetFuelCost, UpdateSourceTrigger=PropertyChanged}"
                             ToolTip="Budget mensuel maximum pour le carburant"/>

                    <!-- CoÃ»t maintenance maximum -->
                    <TextBlock Text="CoÃ»t maintenance mensuel maximum (â‚¬)" Style="{StaticResource LabelStyle}"/>
                    <TextBox Text="{Binding TargetMaintenanceCost, UpdateSourceTrigger=PropertyChanged}"
                             ToolTip="Budget mensuel maximum pour la maintenance"/>

                    <!-- KilomÃ©trage annuel cible -->
                    <TextBlock Text="KilomÃ©trage annuel cible (km)" Style="{StaticResource LabelStyle}"/>
                    <TextBox Text="{Binding TargetAnnualMileage, UpdateSourceTrigger=PropertyChanged}"
                             ToolTip="Objectif de kilomÃ©trage annuel de la flotte"/>

                    <!-- Taux d'utilisation cible -->
                    <TextBlock Text="Taux d'utilisation cible (%)" Style="{StaticResource LabelStyle}"/>
                    <TextBox Text="{Binding TargetUtilizationRate, UpdateSourceTrigger=PropertyChanged}"
                             ToolTip="Pourcentage d'utilisation optimal des vÃ©hicules"/>

                    <!-- Description -->
                    <TextBlock Text="Objectifs spÃ©cifiques (optionnel)" Style="{StaticResource LabelStyle}"/>
                    <TextBox Text="{Binding TargetDescription, UpdateSourceTrigger=PropertyChanged}"
                             Height="80"
                             TextWrapping="Wrap"
                             AcceptsReturn="True"
                             VerticalScrollBarVisibility="Auto"
                             ToolTip="DÃ©crivez les objectifs particuliers pour cette pÃ©riode"/>

                    <!-- PÃ©riode d'application -->
                    <TextBlock Text="Appliquer Ã  partir de" Style="{StaticResource LabelStyle}"/>
                    <DatePicker SelectedDate="{Binding TargetStartDate}"
                                FirstDayOfWeek="Monday"
                                Height="35"/>

                    <!-- Alerte -->
                    <Border Background="#FFF3E0" 
                            CornerRadius="5" 
                            Padding="10" 
                            Margin="0,15,0,0">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="ðŸ’¡" FontSize="18" Margin="0,0,10,0"/>
                            <TextBlock TextWrapping="Wrap" Foreground="#E65100">
                                <Run Text="Les objectifs dÃ©finis serviront de rÃ©fÃ©rence pour l'analyse de performance."/>
                                <LineBreak/>
                                <Run Text="Vous recevrez des alertes si les seuils sont dÃ©passÃ©s."/>
                            </TextBlock>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </ScrollViewer>
        </Border>

        <!-- Boutons -->
        <Border Grid.Row="2" Background="White" Padding="15" Margin="-20,10,-20,-20">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <Button Content="ðŸ’¾ Enregistrer" Width="150" Height="40"
                        Command="{Binding SaveCommand}"
                        Style="{StaticResource PrimaryButtonStyle}"
                        Margin="0,0,10,0"/>
                <Button Content="Annuler" Width="120" Height="40"
                        IsCancel="True"
                        Click="CancelButton_Click"
                        Style="{StaticResource SecondaryButtonStyle}"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>

<UserControl x:Class="FleetManager.Components.StatsCard"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d" 
             d:DesignHeight="120" d:DesignWidth="300">
    <Border Style="{StaticResource StatsCard}">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            
            <!-- Icon Circle -->
            <Border x:Name="IconContainer" Grid.Row="0"
                    Style="{StaticResource StatsIcon}"
                    Background="{Binding IconBackground, RelativeSource={RelativeSource AncestorType=UserControl}}">
                <TextBlock x:Name="IconText" 
                          Text="{Binding Icon, RelativeSource={RelativeSource AncestorType=UserControl}}"
                          FontSize="24"
                          HorizontalAlignment="Center"
                          VerticalAlignment="Center"
                          Foreground="White"/>
            </Border>
            
            <!-- Stats Content -->
            <StackPanel Grid.Row="1" Margin="0,16,0,0">
                <TextBlock x:Name="ValueText"
                          Style="{StaticResource StatsValue}"
                          Text="{Binding Value, RelativeSource={RelativeSource AncestorType=UserControl}}"/>
                
                <TextBlock x:Name="LabelText"
                          Style="{StaticResource StatsLabel}"
                          Text="{Binding Label, RelativeSource={RelativeSource AncestorType=UserControl}}"/>
                
                <!-- Trend Indicator -->
                <StackPanel x:Name="TrendPanel" Orientation="Horizontal" Margin="0,8,0,0"
                           Visibility="{Binding TrendVisibility, RelativeSource={RelativeSource AncestorType=UserControl}}">
                    <TextBlock x:Name="TrendIconBlock" 
                              Text="{Binding TrendIcon, RelativeSource={RelativeSource AncestorType=UserControl}}"
                              FontSize="12"
                              VerticalAlignment="Center"
                              Margin="0,0,4,0"/>
                    <TextBlock x:Name="TrendTextBlock"
                              Text="{Binding TrendText, RelativeSource={RelativeSource AncestorType=UserControl}}"
                              FontFamily="{StaticResource PrimaryFont}"
                              FontSize="12"
                              FontWeight="Medium"
                              Foreground="{Binding TrendColor, RelativeSource={RelativeSource AncestorType=UserControl}}"/>
                </StackPanel>
            </StackPanel>
        </Grid>
    </Border>
</UserControl>
